@using MudBlazor
@inject NavigationManager navigationManager

<MudButton Link=@Link Disabled=_disabled Class=@Class @onclick="@OnClickCallBack">@Title</MudButton>

@code
{
    [Parameter]
    public string Title { get; set; }

    [Parameter]
    public string Link { get; set; }

    [Parameter]
    public string Class { get; set; }

    private bool _disabled { get; set; } = false;

    [Parameter]
    public EventCallback OnClickCallBack { get; set; }


    protected override void OnParametersSet()
    {
        base.OnParametersSet();
        string currentPage = "/" + navigationManager.Uri.Split('/')[3]; // HACK: this is janky
        if (currentPage == Link)
        {
            _disabled = true;
        }
        else
        {
            _disabled = false;
        }
    }
}